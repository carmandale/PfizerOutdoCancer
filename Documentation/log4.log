AppModel init() - Instance: ObjectIdentifier(0x0000000104d09840)
🏁 PfizerOutdoCancerApp init starting...
📲 Setting AppModel in PositioningSystem...
🔄 PositioningSystem.setAppModel called
📝 Registering components and systems...
⚙️ Registering PositioningSystem...
✅ PfizerOutdoCancerApp init completed
🎯 PositioningSystem B0746EB2-765D-4DED-BE41-443432ACEDD8 initializing...
nw_socket_initialize_socket [C1:2] setsockopt SO_NECP_CLIENTUUID failed [22: Invalid argument]
nw_socket_initialize_socket setsockopt SO_NECP_CLIENTUUID failed [22: Invalid argument]
nw_socket_copy_info [C1:2] getsockopt TCP_INFO failed [102: Operation not supported on socket]
nw_socket_copy_info getsockopt TCP_INFO failed [102: Operation not supported on socket]
cannot add handler to 0 from 1 - dropping

=== Starting Initial Asset Loading ===
🔍 Current phase: loading
🔍 Loading state: notStarted
🔄 Starting prepareIntroPhase...

=== Preparing Intro Phase ===
🔍 Current phase before loading: loading
🔍 Loading state: notStarted
📱 Loading asset: intro_environment
AssetLoadingManager: loadAsset(withName: intro_environment, category: introEnvironment)
cannot add handler to 0 from 1 - dropping
cannot add handler to 0 from 1 - dropping
cannot add handler to 0 from 1 - dropping
Registering library (/System/Library/PrivateFrameworks/CoreRE.framework/default.metallib) that already exists in shader manager. Library will be overwritten.
✅ Loaded intro_environment - Progress: 0.16666667
📱 Loading asset: intro_warp
AssetLoadingManager: loadAsset(withName: intro_warp, category: introEnvironment)
✅ Loaded intro_warp - Progress: 0.33333334
📱 Loading asset: attack_cancer_environment
AssetLoadingManager: loadAsset(withName: attack_cancer_environment, category: attackCancerEnvironment)
✅ Loaded attack_cancer_environment - Progress: 0.5
📱 Loading asset: adc
AssetLoadingManager: loadAsset(withName: adc, category: attackCancerEnvironment)
✅ ADC template loaded (using inner Root with audio)
✅ Loaded adc - Progress: 0.6666667
📱 Loading asset: cancer_cell
AssetLoadingManager: loadAsset(withName: cancer_cell, category: attackCancerEnvironment)
✅ Loaded cancer_cell - Progress: 0.8333333
📱 Loading asset: assembled_lab
AssetLoadingManager: loadAsset(withName: assembled_lab, category: labEnvironment)
📱 Starting lab environment assembly
onChange(of: LoadingState) action tried to update multiple times per frame.
Invalid Material input type token
Invalid Material input type token
IBL URL: file:///private/var/containers/Bundle/Application/42C5D831-1E6F-49E2-AAD3-99E82C41FB03/PfizerOutdoCancer.app/lab_v005.exr
✅ Completed lab environment assembly
✅ Loaded assembled_lab - Progress: 1.0
✅ prepareIntroPhase completed
✅ prepareIntroPhase completed
🔄 Transitioning to .ready...
🔄 Phase transition: loading -> ready
🔍 isTransitioning: false
🔍 immersiveSpaceState: closed
✅ Phase transition completed: ready
✅ Transition to .ready completed
🎯 Managing windows for phase: ready
📊 Before state update - nav window open: false
📊 Window states after update:
  Main: true
  Debug: false
  Library: false
  Builder: false
  Phases:
    AppPhase: ready
    ScenePhase: active
    LoadingPhase: completed
🔄 Phase transition: ready -> intro
🔍 isTransitioning: false
🔍 immersiveSpaceState: closed
🚨 LoadingView disappeared
🎯 Managing windows for phase: intro
📊 Before state update - nav window open: false
📊 Window states after update:
  Main: true
  Debug: true
  Library: false
  Builder: false
  Phases:
    AppPhase: intro
    ScenePhase: active
    LoadingPhase: completed
cannot add handler to 0 from 1 - dropping
🎯 PositioningSystem 9DF2A8DE-296F-4A71-8ED8-7F915D53172D initializing...
cannot add handler to 0 from 1 - dropping
🎯 PositioningSystem 7AB07C2F-6DD3-4D46-BC8A-8CC763301AC7 initializing...
Initializing hosting entity without a context
Initializing hosting entity without a context
Initializing hosting entity without a context

=== IntroView Appeared ===
cannot add handler to 0 from 1 - dropping

=== Setting up IntroView ===
📱 IntroViewModel: Setting up intro root
✅ Added root to content
📱 IntroView: Starting environment setup
📱 IntroViewModel: Starting environment setup
📱 IntroViewModel: Attempting to load intro environment
AssetLoadingManager: loadAsset(withName: intro_environment, category: introEnvironment)
✅ IntroViewModel: Successfully loaded intro environment
📱 IntroViewModel: Adding environment to root
📱 IntroViewModel: Setting up individual entities
🔍 Found logo: logo
✅ Set logo scale to 0.5 and opacity to 0
🔍 Found portalWarp: sh0100_v01_portalWarp3
✅ Set portalWarp opacity to 0.6
📱 IntroViewModel: Starting portal setup
📱 Starting lab environment assembly
✅ Using cached assembled lab
✅ IntroViewModel: Successfully loaded assembled laboratory environment
✅ IntroViewModel: Created portal
✅ IntroViewModel: Portal setup complete
✅ IntroViewModel: Environment setup complete
✅ Environment setup complete
📱 IntroView: Found SwiftUI attachments
✅ Found portal for attachments
📱 IntroViewModel: Setting up attachments
🔍 Portal state - opacity: 0.0, position: SIMD3<Float>(0.0, -0.25, 0.0)
📎 Found titleRoot in portal
🔍 Before - titleEntity position: SIMD3<Float>(0.0, 0.0, 0.0), scale: SIMD3<Float>(1.0, 1.0, 1.0)
🔍 After - titleEntity position: SIMD3<Float>(0.0, -0.15, 0.2), scale: SIMD3<Float>(5.0, 5.0, 5.0)
📎 Added titleText to titleRoot
📎 Found titleRoot in portal
🔍 Before - labViewer position: SIMD3<Float>(0.0, 0.0, 0.0), scale: SIMD3<Float>(1.0, 1.0, 1.0)
🔍 After - labViewer position: SIMD3<Float>(0.0, -0.4, 0.3), scale: SIMD3<Float>(5.0, 5.0, 5.0)
📎 Added labViewer to titleRoot
📱 IntroView: Starting animation sequence
🎬 Animation Sequence: Starting at 2025-02-10 23:58:19 +0000
🔍 Entity Check - skyDome: false, portalWarp: true, logo: true, portal: true
❌ Sky fade: skyDome not found
⏰ Sleeping for 19s before portal warp

=== Tracking State [Start Tracking Request] ===
🎯 Tracking Enabled: false
✋ Hand Tracking Enabled: false
🔄 Current Provider State: initialized
ar_world_tracking_provider_query_device_anchor_at_timestamp <0x300b44640>: The device_anchor can only be queried when the world tracking provider is running.
⚠️ No device anchor available
🌎 World Provider State: initialized
=== End State Log ===

🖐️ Starting hand tracking session
Hand Provider State: initialized
✅ Started tracking providers
Final Hand Tracking State: true

=== Tracking State [Post-Start] ===
🎯 Tracking Enabled: true
✋ Hand Tracking Enabled: true
🔄 Current Provider State: initialized
ar_world_tracking_provider_query_device_anchor_at_timestamp <0x300ce8000>: The device_anchor can only be queried when the world tracking provider is running.
⚠️ No device anchor available
🌎 World Provider State: paused
🖐️ Hand Provider State: paused
=== End State Log ===

✅ Phase transition completed: intro
🔄 Provider state changed to: paused

=== Tracking State [Provider State Change [paused]] ===
🎯 Tracking Enabled: true
✋ Hand Tracking Enabled: true
🔄 Current Provider State: paused
ar_world_tracking_provider_query_device_anchor_at_timestamp <0x300ce8000>: The device_anchor can only be queried when the world tracking provider is running.
⚠️ No device anchor available
🌎 World Provider State: paused
🖐️ Hand Provider State: paused
=== End State Log ===

⏸️ Provider paused
Cannot find a BindPoint for any bind path: "", "", "", "", ""
Cannot find a BindPoint for any bind path: "", "", "", "", "", "", "", "", "", "", "", ""
Cannot find a BindPoint for any bind path: "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""
Cannot find a BindPoint for any bind path: "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""
cannot add handler to 0 from 1 - dropping
Cannot find a BindPoint for any bind path: "", "", "", ""
🔄 Provider state changed to: running

=== Tracking State [Provider State Change [running]] ===
🎯 Tracking Enabled: true
✋ Hand Tracking Enabled: true
🔄 Current Provider State: running
📍 Head Transform: simd_float4x4([[0.9994499, -0.033154152, -0.00059541565, 0.0], [0.033115324, 0.9988846, -0.033658877, 0.0], [0.0017106741, 0.033620633, 0.99943304, 0.0], [0.00022090599, 1.2664772, -0.09999813, 1.0]])
📍 Head Position - X: 0.00022090599, Y: 1.2664772, Z: -0.09999813
🌎 World Provider State: running
🖐️ Hand Provider State: running
=== End State Log ===

✅ Provider running
📍 Positioned entity 'IntroRoot' at SIMD3<Float>(0.00022278354, -0.2335397, -1.0999923)
✅ Successfully positioned entity: IntroRoot
🔄 Phase transition: intro -> playing
🔍 isTransitioning: false
🔍 immersiveSpaceState: open

=== Pre-loading Playing Phase Assets ===
📱 Pre-loading required assets for playing phase...
🎯 Loading ADC template...
AssetLoadingManager: loadAsset(withName: adc, category: adc)
✅ ADC entity loaded, applying colors...

🎯 Setting up ADC Template
- Template entity: Root
- Antibody Color: -1
- Linker Color: -1
- Payload Color: -1
✅ ADC template stored in gameState
✅ ADC template configured with colors
🎯 Loading tutorial assets...
AssetLoadingManager: loadAsset(withName: game_start_vo, category: attackCancerEnvironment)

=== Tracking State [Pre-Stop] ===
🎯 Tracking Enabled: true
✋ Hand Tracking Enabled: true
🔄 Current Provider State: running
📍 Head Transform: simd_float4x4([[0.9978306, -0.031231996, 0.05795097, 0.0], [0.043379825, 0.9740895, -0.22196321, 0.0], [-0.049517043, 0.22399558, 0.97333133, 0.0], [0.010018516, 1.2433112, -0.11301112, 1.0]])
📍 Head Position - X: 0.010018516, Y: 1.2433112, Z: -0.11301112
🌎 World Provider State: running
🖐️ Hand Provider State: running
=== End State Log ===

🔄 Provider state changed to: stopped

=== Tracking State [Provider State Change [stopped]] ===
🎯 Tracking Enabled: false
✋ Hand Tracking Enabled: true
🔄 Current Provider State: stopped
ar_world_tracking_provider_query_device_anchor_at_timestamp <0x300ce8000>: The device_anchor can only be queried when the world tracking provider is running.
⚠️ No device anchor available
🌎 World Provider State: stopped
🖐️ Hand Provider State: stopped
=== End State Log ===

⏹️ Provider stopped normally

=== Tracking State [Post-Stop] ===
🎯 Tracking Enabled: false
✋ Hand Tracking Enabled: true
🔄 Current Provider State: stopped
ar_world_tracking_provider_query_device_anchor_at_timestamp <0x300ce8000>: The device_anchor can only be queried when the world tracking provider is running.
⚠️ No device anchor available
🌎 World Provider State: stopped
🖐️ Hand Provider State: stopped
=== End State Log ===

✅ Tutorial assets cached
🎯 Loading attack_cancer_environment...
AssetLoadingManager: loadAsset(withName: attack_cancer_environment, category: attackCancerEnvironment)
✅ attack_cancer_environment cached
✅✅✅ Playing Phase Assets Ready (with delay) ===


=== Starting IntroViewModel Cleanup ===
🗑️ Removing intro root entity
🎯 Resetting positioning component
✅ Completed IntroViewModel cleanup


=== Starting Intro Environment Cleanup ===

📊 Updated template cache size: 5 entities
🔒 Remaining asset: game_start_vo
✅ Completed intro environment cleanup


=== AttackCancerInstructionsView Rotating ADC Setup ===
📱 Instructions View: Setting up root entity
📱 AttackCancerViewModel: Setting up root
IBL URL: file:///private/var/containers/Bundle/Application/42C5D831-1E6F-49E2-AAD3-99E82C41FB03/PfizerOutdoCancer.app/metro_noord_2k.exr
🧹 Cleaning up app state

=== Tracking State [Start Tracking Request] ===
🎯 Tracking Enabled: false
✋ Hand Tracking Enabled: true
🔄 Current Provider State: stopped
ar_world_tracking_provider_query_device_anchor_at_timestamp <0x300ce8000>: The device_anchor can only be queried when the world tracking provider is running.
⚠️ No device anchor available
🌎 World Provider State: stopped
🖐️ Hand Provider State: stopped
=== End State Log ===

🖐️ Starting hand tracking session
Hand Provider State: initialized
✅ Started tracking providers
Final Hand Tracking State: true

=== Tracking State [Post-Start] ===
🎯 Tracking Enabled: true
✋ Hand Tracking Enabled: true
🔄 Current Provider State: stopped
ar_world_tracking_provider_query_device_anchor_at_timestamp <0x300b8c780>: The device_anchor can only be queried when the world tracking provider is running.
⚠️ No device anchor available
🌎 World Provider State: initialized
🖐️ Hand Provider State: initialized
=== End State Log ===

✅ Phase transition completed: playing
✅ Instructions View: IBL setup complete
✅ Instructions View: Found ADC template
✅ Instructions View: Added ADC to display
=== Instructions View Setup Complete ===

📍 Positioned entity 'headTrackingRoot' at SIMD3<Float>(0.011383178, 1.2723868, -1.0987412)
✅ Successfully positioned entity: headTrackingRoot
ARPredictorRemoteService <0x104fd32d0>: Query queue is not running.
ARPredictorRemoteService <0x104f04080>: Query queue is not running.
ARPredictorRemoteService <0x10cb0cf20>: Query queue is not running.
ARPredictorRemoteService <0x10d20a4a0>: Query queue is not running.
ARPredictorRemoteService <0x104f9b360>: Query queue is not running.
ARPredictorRemoteService <0x104f16b80>: Query queue is not running.
ARPredictorRemoteService <0x104c55fb0>: Query queue is not running.
🎯 Managing windows for phase: playing
📊 Before state update - nav window open: true
📊 Window states after update:
  Main: true
  Debug: false
  Library: false
  Builder: false
  Phases:
    AppPhase: playing
    ScenePhase: active
    LoadingPhase: completed
✅ App state cleanup completed

=== Tracking State [Pre-Stop] ===
🎯 Tracking Enabled: true
✋ Hand Tracking Enabled: true
🔄 Current Provider State: stopped
ar_world_tracking_provider_query_device_anchor_at_timestamp <0x300b8c780>: The device_anchor can only be queried when the world tracking provider is running.
⚠️ No device anchor available
🌎 World Provider State: paused
🖐️ Hand Provider State: paused
=== End State Log ===

🎯 PositioningSystem B874D490-D790-4A37-A44A-8753762DA9C6 initializing...
cannot add handler to 0 from 1 - dropping

=== Processing Hand Updates ===
Should Process Hand Tracking: true
Hand Provider State: stopped
🖐️ Starting hand tracking updates

=== AttackCancerView Setup ===
📱 AttackCancerView: Setting up root
📱 AttackCancerViewModel: Setting up root
✅ Root entity created: AttackCancerRoot

=== Setting up Environment ===
🎯 Setting up AttackCancerView environment...
IBL URL: file:///private/var/containers/Bundle/Application/42C5D831-1E6F-49E2-AAD3-99E82C41FB03/PfizerOutdoCancer.app/metro_noord_2k.exr

=== Tracking State [Post-Stop] ===
🎯 Tracking Enabled: false
✋ Hand Tracking Enabled: true
🔄 Current Provider State: stopped
ar_world_tracking_provider_query_device_anchor_at_timestamp <0x300b8c780>: The device_anchor can only be queried when the world tracking provider is running.
⚠️ No device anchor available
🌎 World Provider State: stopped
🖐️ Hand Provider State: stopped
=== End State Log ===

AssetLoadingManager: loadAsset(withName: attack_cancer_environment, category: attackCancerEnvironment)
Environment Transform (Before Adding):
  Local Position: SIMD3<Float>(0.0, 0.0, 0.0)
  World Position: SIMD3<Float>(0.0, 0.0, 0.0)
  Local Orientation: simd_quatf(real: 1.0, imag: SIMD3<Float>(0.0, 0.0, 0.0))
  World Orientation: simd_quatf(real: 1.0, imag: SIMD3<Float>(0.0, 0.0, 0.0))
  Local Scale: SIMD3<Float>(1.0, 1.0, 1.0)
  World Scale: SIMD3<Float>(1.0, 1.0, 1.0)
Environment Transform (After Adding):
  Local Position: SIMD3<Float>(0.0, 0.0, 0.0)
  World Position: SIMD3<Float>(0.0, 0.0, 0.0)
  Local Orientation: simd_quatf(real: 1.0, imag: SIMD3<Float>(0.0, 0.0, 0.0))
  World Orientation: simd_quatf(real: 1.0, imag: SIMD3<Float>(0.0, 0.0, 0.0))
  Local Scale: SIMD3<Float>(1.0, 1.0, 1.0)
  World Scale: SIMD3<Float>(1.0, 1.0, 1.0)
setting up collisions
setting up collisions in Root
🎯 Setting up collision subscription
✅ Collision subscription set up
✅ Environment setup complete
✅ Environment setup complete
Environment setup complete, re-rendering RealityView and opening Instructions Window
Cannot find a BindPoint for any bind path: "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""
🌀 Portal warp: Starting at +19.180145025253296s
🔍 PortalWarp reference check: false
❌ Portal warp: portalWarp not found
⏰ Sleeping for 75s before logo
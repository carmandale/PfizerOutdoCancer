// successful view

ğŸ”„ === PHASE TRANSITION START ===
â”œâ”€ From: loading
â”œâ”€ To: intro
â”œâ”€ Current Tracking State: initialized
â”œâ”€ Has Hand Tracking: false
â””â”€ Will Need Hand Tracking: true
ğŸ”„ Phase transition: loading -> intro
ğŸ” isTransitioning: false
ğŸ” immersiveSpaceState: closed

=== Preparing ADC for intro and playing ===
ğŸ¯ Loading ADC template...
AssetLoadingManager: loadAsset(withName: adc, category: adc)
âœ… ADC entity loaded, applying colors...

ğŸ¯ Setting up ADC Template
- Template entity: Root
- Antibody Color: -1
- Linker Color: -1
- Payload Color: -1
âœ… ADC template stored in gameState
âœ… ADC template configured with colors
âœ… ADC template passed to lab state

=== Tracking State [Start Tracking Request] ===
â”œâ”€ Tracking Enabled: false
â”œâ”€ Hand Tracking Enabled: false
â””â”€ Current Provider State: initialized
ar_world_tracking_provider_query_device_anchor_at_timestamp <0x302ee4140>: The device_anchor can only be queried when the world tracking provider is running.
âš ï¸ No device anchor available

ğŸŒ Provider States
â”œâ”€ World Provider: initialized
â”œâ”€ Hand Provider: initialized
â””â”€ Stopped with Error: false

ğŸ–ï¸ Configuring Tracking Session
â”œâ”€ World Tracking: Enabled
â”œâ”€ Hand Tracking: Enabled
â”œâ”€ Provider State: initialized
â””â”€ Previous Tracking: Inactive
ğŸ¯ Managing windows for phase: intro
ğŸ“Š Before state update - nav window open: false
ğŸ“Š Window states after update:
  Main: true
  Debug: false
  Library: false
  Builder: false
  Phases:
    AppPhase: intro
    ScenePhase: active
    LoadingPhase: completed
ğŸ¯ PositioningSystem 01F8009C-4016-4CC3-B3A5-D723C60E6E98 initializing...
Initializing hosting entity without a context
Initializing hosting entity without a context
Initializing hosting entity without a context
Initializing hosting entity without a context
Initializing hosting entity without a context

=== IntroView Appeared ===
openImmersiveSpace result for intro: opened
cannot add handler to 0 from 1 - dropping

=== Processing Hand Updates ===
â”œâ”€ Should Process Hand Tracking: true
â””â”€ Hand Provider State: paused
ğŸ–ï¸ Starting hand tracking updates

=== Setting up IntroView ===

=== hasBuiltSDC = false ===
ğŸ”„ Starting new intro session: tracking states reset
ğŸ“± IntroViewModel: Setting up root

âœ… Root Setup Complete
â”œâ”€ Root Entity: IntroRoot
â”œâ”€ Position: SIMD3<Float>(0.0, -1.5, -1.0)
â””â”€ Positioning: Ready for explicit updates
âœ… Added root to content
ğŸ“± IntroView: Starting environment setup
ğŸ“± IntroViewModel: Starting environment setup
ğŸ“± IntroViewModel: Attempting to load intro environment
AssetLoadingManager: loadAsset(withName: intro_environment, category: introEnvironment)
âœ… IntroViewModel: Successfully loaded intro environment
âœ… Environment setup complete
ğŸ“± IntroViewModel: Setting up individual entities
ğŸ” Found skyDome: SkySphere
âœ… Set skyDome opacity to 0
ğŸ“± IntroViewModel: Starting portal setup
ğŸ“± Starting lab environment assembly
âœ… Using cached assembled lab
âœ… IntroViewModel: Successfully loaded assembled laboratory environment
âœ… IntroViewModel: Created portal
âœ… IntroViewModel: Portal setup complete
âœ… IntroViewModel: Environment setup complete
âœ… Environment setup complete
ğŸ“± IntroView: Found SwiftUI attachments
ğŸ¯ Found ADCBuilderAttachment target
ğŸ¯ Found AttackCancerAttachment target
ğŸ” Provider State Verification
â”œâ”€ Expected State: Running
â”œâ”€ World Provider: âœ… [running]
â”œâ”€ Hand Tracking Needed: true
â””â”€ Hand Provider: âœ… [running]

=== Tracking State [Post-Start] ===
â”œâ”€ Tracking Enabled: true
â”œâ”€ Hand Tracking Enabled: true
â””â”€ Current Provider State: initialized

ğŸ“ Device Anchor Info
â”œâ”€ Head Transform: simd_float4x4([[0.9991905, 0.005015661, -0.03991656, 0.0], [-0.0010813525, 0.99518764, 0.09798114, 0.0], [0.040215842, -0.097858645, 0.9943875, 0.0], [-0.00095017225, 1.2146146, 0.0046529025, 0.99999994]])
â”œâ”€ Position X: -0.00095017225
â”œâ”€ Position Y: 1.2146146
â””â”€ Position Z: 0.0046529025

ğŸŒ Provider States
â”œâ”€ World Provider: running
â”œâ”€ Hand Provider: running
â””â”€ Stopped with Error: false
ğŸ” Provider State Verification
â”œâ”€ Expected State: Running
â”œâ”€ World Provider: âœ… [running]
â”œâ”€ Hand Tracking Needed: true
â””â”€ Hand Provider: âœ… [running]
âœ… Tracking started successfully on attempt 1
âœ… Phase transition completed: intro
âœ… Transition to .intro completed
Cannot find a BindPoint for any bind path: "", "", "", "", ""

ğŸ”„ Provider State Change
â”œâ”€ Provider: World Tracking
â”œâ”€ From: initialized
â”œâ”€ To: running
â”œâ”€ Error: none
â””â”€ Current Phase: intro

ğŸ”„ Provider State Change
â”œâ”€ Provider: Hand Tracking
â”œâ”€ From: initialized
â”œâ”€ To: running
â”œâ”€ Error: none
â””â”€ Current Phase: intro

=== Tracking State [Provider State Change [running]] ===
â”œâ”€ Tracking Enabled: true
â”œâ”€ Hand Tracking Enabled: true
â””â”€ Current Provider State: running

ğŸ“ Device Anchor Info
â”œâ”€ Head Transform: simd_float4x4([[0.99918115, 0.004965525, -0.04015737, 0.0], [-0.00094514893, 0.99503493, 0.09952201, 0.0], [0.040452156, -0.09940259, 0.9942247, 0.0], [-0.0009409487, 1.2147537, 0.0049434304, 1.0]])
â”œâ”€ Position X: -0.0009409487
â”œâ”€ Position Y: 1.2147537
â””â”€ Position Z: 0.0049434304

ğŸŒ Provider States
â”œâ”€ World Provider: running
â”œâ”€ Hand Provider: running
â””â”€ Stopped with Error: false
âœ… Providers running

=== Start Button Pressed ===
Current Phase: intro
isReadyForInteraction: true
Setting shouldUpdateHeadPosition = true

ğŸ¯ Head Position Update Triggered
â”œâ”€ shouldUpdate: true
â”œâ”€ isReadyForHeadTracking: true
â”œâ”€ isPositioningInProgress: false
â”œâ”€ Current Phase: intro
â”œâ”€ Tracking State: running
â””â”€ Has Device Anchor: true

ğŸ¯ Starting Head Position Update
â”œâ”€ Current Position: SIMD3<Float>(0.0, -1.5, -1.0)
â”œâ”€ Tracking State: running
â”œâ”€ isPositioningInProgress: false
â””â”€ isPositioningComplete: false

ğŸ”„ Starting position update for entity 'IntroRoot'
â”œâ”€ Current Position: SIMD3<Float>(0.0, -1.5, -1.0)
â”œâ”€ Animated: âœ…
â””â”€ Duration: 0.5s

ğŸ“ Positioning entity 'IntroRoot'
â”œâ”€ From: SIMD3<Float>(0.0, -1.5, -1.0)
â”œâ”€ To: SIMD3<Float>(0.00087574124, -0.29077828, -0.9958763)
â”œâ”€ Offsets: [0.0, -1.5, -1.0]
â”œâ”€ Distance: 1.8027756m
â””â”€ Method: Animated (0.5s)

âœ¨ Position update complete for 'IntroRoot'
â”œâ”€ Final Position: SIMD3<Float>(0.0, -1.5, -1.0)
â””â”€ Status: Success

âœ¨ Position update complete for 'IntroRoot'
â”œâ”€ Final Position: SIMD3<Float>(0.00087491586, -0.29191792, -0.9958802)
â””â”€ Status: Success
Failed to set override status for bind point component member.

âœ¨ Head Position Update Complete
â”œâ”€ Final Position: SIMD3<Float>(0.00087574124, -0.29077828, -0.9958763)
â”œâ”€ Tracking State: running
â”œâ”€ isPositioningInProgress: true
â””â”€ isPositioningComplete: false

âœ¨ Positioning Complete
â”œâ”€ Phase: intro
â”œâ”€ ImmersiveSpaceState: open
â”œâ”€ Root Entity: IntroRoot
â””â”€ Environment Ready: Root

// second failed viewing

ğŸ”„ === PHASE TRANSITION START ===
â”œâ”€ From: outro
â”œâ”€ To: intro
â”œâ”€ Current Tracking State: stopped
â”œâ”€ Has Hand Tracking: false
â””â”€ Will Need Hand Tracking: true
ğŸ”„ Phase transition: outro -> intro
ğŸ” isTransitioning: false
ğŸ” immersiveSpaceState: open

=== Preparing ADC for intro and playing ===
ğŸ¯ Loading ADC template...
AssetLoadingManager: loadAsset(withName: adc, category: adc)
âœ… ADC entity loaded, applying colors...

ğŸ¯ Setting up ADC Template
- Template entity: Root
- Antibody Color: 2
- Linker Color: 1
- Payload Color: 2
ITR..updateShaderGraphColor(): âœ… Successfully updated Basecolor_Tint with color: UIExtendedSRGBColorSpace 1 0.81 0.233 1
âœ… Applied antibody color: 2
ITR..updatePBRDiffuseColor(): âŒ materials array is empty
ITR..updateShaderGraphColor(): âœ… Successfully updated Basecolor_Tint with color: UIExtendedSRGBColorSpace 0 0.584 1 1
âœ… Applied linker color 1 to linker01_offset
ITR..updatePBRDiffuseColor(): âŒ materials array is empty
ITR..updateShaderGraphColor(): âœ… Successfully updated Basecolor_Tint with color: UIExtendedSRGBColorSpace 0 0.584 1 1
âœ… Applied linker color 1 to linker02_offset
ITR..updatePBRDiffuseColor(): âŒ materials array is empty
ITR..updateShaderGraphColor(): âœ… Successfully updated Basecolor_Tint with color: UIExtendedSRGBColorSpace 0 0.584 1 1
âœ… Applied linker color 1 to linker03_offset
ITR..updatePBRDiffuseColor(): âŒ materials array is empty
ITR..updateShaderGraphColor(): âœ… Successfully updated Basecolor_Tint with color: UIExtendedSRGBColorSpace 0 0.584 1 1
âœ… Applied linker color 1 to linker04_offset
ITR..updatePBREmissiveColor(): âœ… Updated emissiveColor to: kCGColorSpaceModelRGB 1 1 0.387865 1
ITR..updateShaderGraphColor(): âœ… Successfully updated glowColor with color: UIExtendedSRGBColorSpace 1 0.81 0.233 1
âœ… Applied payload color 2 to linker01_offset
ITR..updatePBREmissiveColor(): âœ… Updated emissiveColor to: kCGColorSpaceModelRGB 1 1 0.387865 1
ITR..updateShaderGraphColor(): âœ… Successfully updated glowColor with color: UIExtendedSRGBColorSpace 1 0.81 0.233 1
âœ… Applied payload color 2 to linker02_offset
ITR..updatePBREmissiveColor(): âœ… Updated emissiveColor to: kCGColorSpaceModelRGB 1 1 0.387865 1
ITR..updateShaderGraphColor(): âœ… Successfully updated glowColor with color: UIExtendedSRGBColorSpace 1 0.81 0.233 1
âœ… Applied payload color 2 to linker03_offset
ITR..updatePBREmissiveColor(): âœ… Updated emissiveColor to: kCGColorSpaceModelRGB 1 1 0.387865 1
ITR..updateShaderGraphColor(): âœ… Successfully updated glowColor with color: UIExtendedSRGBColorSpace 1 0.81 0.233 1
âœ… Applied payload color 2 to linker04_offset
âœ… ADC template stored in gameState
âœ… ADC template configured with colors
âœ… ADC template passed to lab state

=== Starting OutroViewModel Cleanup ===
âœ… Completed OutroViewModel cleanup


=== Starting Outro Environment Cleanup ===
ğŸ“Š Current template cache size: 9 entities
ğŸ“Š Current templates: cancer_cell, attack_cancer_environment, outro_environment, assembled_lab, antibody_scene, PressStart_VO, adc, game_start_vo, test_fire_cell

âœ… Completed outro environment cleanup


=== Tracking State [Start Tracking Request] ===
â”œâ”€ Tracking Enabled: false
â”œâ”€ Hand Tracking Enabled: true
â””â”€ Current Provider State: running
ar_world_tracking_provider_query_device_anchor_at_timestamp <0x302eb5220>: The device_anchor can only be queried when the world tracking provider is running.
âš ï¸ No device anchor available

ğŸŒ Provider States
â”œâ”€ World Provider: stopped
â”œâ”€ Hand Provider: stopped
â””â”€ Stopped with Error: false

ğŸ–ï¸ Configuring Tracking Session
â”œâ”€ World Tracking: Enabled
â”œâ”€ Hand Tracking: Enabled
â”œâ”€ Provider State: running
â””â”€ Previous Tracking: Inactive
I am in the outro space in the onDisappear else block and think that I have been dismissed
ğŸ§¹ Cleaning up app state

=== Cleaning Up App State ===
â”œâ”€ Current Phase: intro
â”œâ”€ Immersive Space: open
â””â”€ Tracking Active: initialized
ğŸ›‘ Stopping Tracking Session

=== Tracking State [Post-Stop] ===
â”œâ”€ Tracking Enabled: false
â”œâ”€ Hand Tracking Enabled: true
â””â”€ Current Provider State: running
ar_world_tracking_provider_query_device_anchor_at_timestamp <0x302ef7200>: The device_anchor can only be queried when the world tracking provider is running.
ARRemoteService: remote object proxy failed with error: Error Domain=NSCocoaErrorDomain Code=4099 "The connection to service named com.apple.arkit.service.session was invalidated from this process." UserInfo={NSDebugDescription=The connection to service named com.apple.arkit.service.session was invalidated from this process.}
âš ï¸ No device anchor available
ARRemoteService: weak self released before invalidation

ğŸŒ Provider States
â”œâ”€ World Provider: stopped
â”œâ”€ Hand Provider: stopped
â””â”€ Stopped with Error: false
ğŸ” Provider State Verification
â”œâ”€ Expected State: Stopped
â”œâ”€ World Provider: âœ… [stopped]
â”œâ”€ Hand Tracking Needed: true
â””â”€ Hand Provider: âœ… [stopped]
âŒ Failed to start tracking: CancellationError()

âŒ Tracking start failed (Attempt 1/3)
â”œâ”€ Error: failedToStart
â”œâ”€ Phase: intro
â””â”€ Provider State: stopped

âŒ Tracking start failed (Attempt 2/3)
â”œâ”€ Error: CancellationError()
â”œâ”€ Phase: intro
â””â”€ Provider State: stopped
cannot add handler to 0 from 1 - dropping

âŒ Tracking start failed (Attempt 3/3)
â”œâ”€ Error: CancellationError()
â”œâ”€ Phase: intro
â””â”€ Provider State: stopped
âŒ All tracking start attempts failed
âŒ Failed to start tracking after 3 attempts
âœ… Phase transition completed: intro
ARPredictorRemoteService <0x149504c00>: Query queue is not running.
ARPredictorRemoteService <0x1494c3db0>: Query queue is not running.
ğŸ§¹ **onChange Function**: Immersive space dismissed successfully.
ğŸ¯ Managing windows for phase: intro
ğŸ“Š Before state update - nav window open: false
ğŸ“Š Window states after update:
  Main: true
  Debug: false
  Library: false
  Builder: false
  Phases:
    AppPhase: intro
    ScenePhase: active
    LoadingPhase: completed
=== Finished Dismiss Attempt ===
ğŸ¯ PositioningSystem 5979B2BB-99EB-4135-B38A-7E1ACBC81E90 initializing...
Initializing hosting entity without a context
Initializing hosting entity without a context
Initializing hosting entity without a context
Initializing hosting entity without a context
Initializing hosting entity without a context

=== IntroView Appeared ===
openImmersiveSpace result for intro: opened
cannot add handler to 0 from 1 - dropping

=== Processing Hand Updates ===
â”œâ”€ Should Process Hand Tracking: true
â””â”€ Hand Provider State: stopped
ğŸ–ï¸ Starting hand tracking updates

=== Setting up IntroView ===

=== hasBuiltSDC = true ===
ğŸ”„ Starting new intro session: tracking states reset
ğŸ“± IntroViewModel: Setting up root

âœ… Root Setup Complete
â”œâ”€ Root Entity: IntroRoot
â”œâ”€ Position: SIMD3<Float>(0.0, -1.5, -1.0)
â””â”€ Positioning: Ready for explicit updates
âœ… Added root to content
ğŸ“± IntroView: Starting environment setup
ğŸ“± IntroViewModel: Starting environment setup
ğŸ“± IntroViewModel: Attempting to load intro environment
AssetLoadingManager: loadAsset(withName: intro_environment, category: introEnvironment)

=== App State Cleanup Complete ===
â”œâ”€ Immersive Space: closed
â””â”€ Tracking State: stopped
âœ… IntroViewModel: Successfully loaded intro environment
âœ… Environment setup complete
ğŸ“± IntroViewModel: Setting up individual entities
ğŸ” Found skyDome: SkySphere
âœ… Set skyDome opacity to 0
ğŸ“± IntroViewModel: Starting portal setup
ğŸ“± Starting lab environment assembly
âœ… Using cached assembled lab
âœ… IntroViewModel: Successfully loaded assembled laboratory environment
âœ… IntroViewModel: Created portal
âœ… IntroViewModel: Portal setup complete
âœ… IntroViewModel: Environment setup complete
âœ… Environment setup complete
ğŸ“± IntroView: Found SwiftUI attachments
ğŸ¯ Found ADCBuilderAttachment target
ğŸ¯ Found AttackCancerAttachment target
Cannot find a BindPoint for any bind path: "", "", "", "", ""

=== Start Button Pressed ===
Current Phase: intro
isReadyForInteraction: true
Setting shouldUpdateHeadPosition = true
ar_world_tracking_provider_query_device_anchor_at_timestamp <0x302ef7200>: The device_anchor can only be queried when the world tracking provider is running.

ğŸ¯ Head Position Update Triggered
â”œâ”€ shouldUpdate: true
â”œâ”€ isReadyForHeadTracking: true
â”œâ”€ isPositioningInProgress: false
â”œâ”€ Current Phase: intro
â”œâ”€ Tracking State: stopped
â””â”€ Has Device Anchor: false

ğŸ¯ Starting Head Position Update
â”œâ”€ Current Position: SIMD3<Float>(0.0, -1.5, -1.0)
â”œâ”€ Tracking State: stopped
â”œâ”€ isPositioningInProgress: false
â””â”€ isPositioningComplete: false

âœ¨ Head Position Update Complete
â”œâ”€ Final Position: SIMD3<Float>(0.0, -1.5, -1.0)
â”œâ”€ Tracking State: stopped
â”œâ”€ isPositioningInProgress: true
â””â”€ isPositioningComplete: false

âœ¨ Positioning Complete
â”œâ”€ Phase: intro
â”œâ”€ ImmersiveSpaceState: closed
â”œâ”€ Root Entity: IntroRoot
â””â”€ Environment Ready: Root